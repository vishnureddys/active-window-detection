<html>

<head>
    <title>Proxam</title>
</head>

<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <button onclick=submit()>Click me!</button>
    <script>
        function submit() {
            var myData = "This is my data string."
            $.post("/receivedata", { "myData": myData })
        }

        var current_start_time;
        var stop_time;
        count = 0;
        // Active
        window.addEventListener('focus', startTimer);

        // Inactive
        window.addEventListener('blur', stopTimer);

        // Start timer
        function startTimer() {
            //console.log('focus');
            //myInterval = window.setInterval(timerHandler, 1000);
            current_start_time = new Date();
        }

        // Stop timer
        function stopTimer() {
            stop_time = new Date();
            count++;
            alert("Don't change your tab. This incident is reported to the admin.");
            $.post("/receivedata", {"Instance": count, "Time": stop_time})
        }
    </script>

</body>

</html>